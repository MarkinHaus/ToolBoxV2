<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ToolBox - Voice, AI & Passwords</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="tb-container">
        <!-- Header -->
        <header class="tb-header">
            <div class="tb-logo">
                <span class="tb-icon">ðŸ§°</span>
                <span class="tb-title">ToolBox</span>
            </div>
            <div class="tb-status" id="connectionStatus">
                <span class="tb-status-dot" id="statusDot"></span>
                <span class="tb-status-text" id="statusText">Connecting...</span>
            </div>
        </header>

        <!-- Voice Search Section -->
        <section class="tb-section">
            <div class="tb-voice-container">
                <div class="tb-input-group">
                    <input
                        type="text"
                        id="voiceInput"
                        class="tb-input"
                        placeholder="Ask ISAA anything or use voice..."
                        autocomplete="off"
                    >
                    <button id="voiceBtn" class="tb-btn tb-btn-voice" title="Voice Search">
                        <span class="tb-voice-icon">ðŸŽ¤</span>
                    </button>
                    <button id="sendBtn" class="tb-btn tb-btn-primary" title="Send">
                        <span>â†’</span>
                    </button>
                </div>
                <div class="tb-voice-status" id="voiceStatus" style="display: none;">
                    <span class="tb-voice-indicator"></span>
                    <span class="tb-voice-text">Listening...</span>
                </div>
            </div>
        </section>

        <!-- Quick Actions -->
        <section class="tb-section">
            <h3 class="tb-section-title">Quick Actions</h3>
            <div class="tb-actions">
                <button id="generatePasswordBtn" class="tb-btn tb-btn-secondary">
                    <span class="tb-btn-icon">ðŸ”‘</span>
                    <span>Generate Password</span>
                </button>
                <button id="autofillBtn" class="tb-btn tb-btn-secondary">
                    <span class="tb-btn-icon">ðŸ”„</span>
                    <span>Auto-fill</span>
                </button>
                <button id="passwordManagerBtn" class="tb-btn tb-btn-secondary">
                    <span class="tb-btn-icon">ðŸ”’</span>
                    <span>Passwords</span>
                </button>
            </div>
        </section>

        <!-- ISAA Chat -->
        <section class="tb-section">
            <div class="tb-chat-header">
                <h3 class="tb-section-title">ISAA Assistant</h3>
                <button id="chatToggle" class="tb-btn tb-btn-ghost">
                    <span id="chatToggleIcon">â–¼</span>
                </button>
            </div>
            <div class="tb-chat-container" id="chatContainer">
                <div class="tb-chat-messages" id="chatMessages">
                    <div class="tb-chat-message tb-chat-system">
                        <span class="tb-chat-icon">ðŸ¤–</span>
                        <span class="tb-chat-text">Hi! I'm ISAA, your AI assistant. How can I help you today?</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Loading Overlay -->
        <div class="tb-loading" id="loadingOverlay" style="display: none;">
            <div class="tb-spinner"></div>
            <span class="tb-loading-text">Processing...</span>
        </div>

        <!-- Notification Area -->
        <div class="tb-notifications" id="notifications"></div>
    </div>

    <!-- Password Manager Modal -->
    <div class="tb-modal-overlay" id="passwordModal" style="display: none;">
        <div class="tb-modal">
            <div class="tb-modal-header">
                <h3>Password Manager</h3>
                <button id="closePasswordModal" class="tb-btn tb-btn-ghost">âœ•</button>
            </div>
            <div class="tb-modal-body">
                <div class="tb-search-container">
                    <input
                        type="text"
                        id="passwordSearch"
                        class="tb-input"
                        placeholder="Search passwords..."
                    >
                </div>
                <div class="tb-password-list" id="passwordList">
                    <div class="tb-empty-state">
                        <span class="tb-empty-icon">ðŸ”’</span>
                        <p>No passwords found</p>
                        <small>Your saved passwords will appear here</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- TOTP Display -->
    <div class="tb-totp-card" id="totpCard" style="display: none;">
        <div class="tb-totp-header">
            <span class="tb-totp-title">2FA Code</span>
            <button id="closeTotpCard" class="tb-btn tb-btn-ghost">âœ•</button>
        </div>
        <div class="tb-totp-code" id="totpCode">------</div>
        <div class="tb-totp-timer">
            <div class="tb-totp-progress" id="totpProgress"></div>
            <span class="tb-totp-time" id="totpTime">30s</span>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>
