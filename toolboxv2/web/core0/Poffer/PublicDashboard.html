<!DOCTYPE html>
<html lang="en" id="htmlTag">

<head>
    <meta charset="UTF-8">
    <title>Simple</title>

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="simple">
    <meta name="apple-mobile-web-app-title" content="simple">
    <meta name="msapplication-starturl" content="/">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="icon" sizes="192X192" href="/web/webapp/icon-192.png">
    <link rel="apple-touch-icon" sizes="192X192" href="/web/webapp/icon-192.png">
    <link rel="icon" sizes="512X512" href="/web/webapp/icon-512.png">
    <link rel="apple-touch-icon" sizes="512X512" href="/web/webapp/icon-512.png">

    <link rel="stylesheet" type="text/css" href="/web/core0/styles.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons&display=block" rel="stylesheet">
    <script src="/web/node_modules/htmx.org/dist/htmx.min.js"></script>
    <script src="/web/scripts/httpSender.js" type="module" defer></script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Symbols+Outlined">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
    />
</head>

<body>
<div class="main-page" style="padding-top: 25vh;padding-bottom: 15vh;">
    <div class="wrapper fade-class">

        <h1>Welcome to Simple</h1>

            <p id="info"> Private Show </p>
            <label>
            <input type="new-password" id="offer_key" placeholder="Key" name="key">
            <button  onclick="
            fetch('/api/PersonalOffer/check_key', {
        method: 'POST',
        headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({'key': document.getElementById('offer_key').value})
    })
        .then(response =>  response.json())
        .then(response => {console.log('sucsess', response)
            if (response.toString().startsWith('<a')){
                 document.getElementById('info').innerHTML = response
            }else{
                document.getElementById('htmlTag').innerHTML = response
            }})

        .catch((error) => {
            console.log('error', error)});
    ">Los gehts!</button></label>
    </div>
    <footer style="position: relative;padding-top: 50%">
        <h3>Go to <a href="/web/mainContent.html">App</a></h3>
        <h3>Explore the <a href="/web/core0/MainIdea.html">Main Idea</a></h3>
        <h3># <a href="/web/core0/Installer.html">Installation</a> </h3>
        <br>
        <h4>Powered by ToolBoxV2 <a href="https://github.com/MarkinHaus/ToolBoxV2">Git</a> || <a href="https://markinhaus.github.io/ToolBoxV2/">Docs</a></h4>
        <p>
        <h5> <a href="https://github.com/MarkinHaus/ToolBoxV2">Contact</a> || <a href="https://markinhaus.github.io/ToolBoxV2/">Impressum</a></h5>
        </p>
    </footer>
</div>
</div>

<script>

    let AcContent = 0

    let selected = undefined
    function submit(){
        fetch("/api/PersonalOffer/user_callback/", {
            method: "POST",
            body: {'name': selected}
        })
            .then(response => response.json())
            .then(data => {
                // Assuming the response contains the URL of the uploaded media
                document.getElementById("info-select").innerText = data.info

            })
            .catch(error => console.error("Error uploading media:", error));
    }
    function select(name){
        document.getElementById("info-select").innerText = "Go with "+ name
        selected = name
    }
    function showNext(){
        showContent(AcContent+1);
    }
    function showContent(i){
        if (i===document.getElementsByClassName("container").length){
            return
        }
        if (i<0){
            return
        }
        for (let j = 0; j < document.getElementsByClassName("container").length; j++) {
            let Content = document.getElementById('setupContent'+j)
            if (j===i){
                Content.classList.remove('none')
            }else{
                Content.classList.add('none')
            }
        }
        AcContent = i
    }
    // Function to go back to the previous step
    function backToPrevious() {
        showContent(AcContent-1)
    }

</script>
</body>

</html>
