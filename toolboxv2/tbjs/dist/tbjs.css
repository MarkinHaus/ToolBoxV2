@import url(https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200);
/* ============================================================================
   TBJS Design System v2.0
   Ein systematisches, modernes CSS-Framework
   ============================================================================

   Kernprinzipien (nach dem Sajid-System):
   1. Farben in OKLCH für mathematische Farbkontrolle
   2. Einheitliche Variablenbenennung (keine Duplikate)
   3. Elevation-System für echte Tiefe (Licht von oben)
   4. Ein Dark-Mode-Switch statt drei
   5. Spacing-Skala statt Magic Numbers

   ============================================================================ */

/* ==========================================================================
   1. DESIGN TOKENS - Die einzige Wahrheitsquelle
   ========================================================================== */

:root {
  /* ========== COLOR SYSTEM (OKLCH) ==========
     OKLCH: Lightness (0-100%), Chroma (0-0.4), Hue (0-360)
     Vorteile: Perceptually uniform, einfache Shade-Generierung
  */

  /* --- Primary Palette --- */
  --hue-primary: 230;           /* Blau-Ton */
  --chroma-primary: 0.18;       /* Sättigung */

  --color-primary-50:  oklch(97% var(--chroma-primary) var(--hue-primary));
  --color-primary-100: oklch(93% var(--chroma-primary) var(--hue-primary));
  --color-primary-200: oklch(85% var(--chroma-primary) var(--hue-primary));
  --color-primary-300: oklch(75% var(--chroma-primary) var(--hue-primary));
  --color-primary-400: oklch(65% var(--chroma-primary) var(--hue-primary));
  --color-primary-500: oklch(55% var(--chroma-primary) var(--hue-primary));  /* Hauptfarbe */
  --color-primary-600: oklch(48% var(--chroma-primary) var(--hue-primary));
  --color-primary-700: oklch(40% var(--chroma-primary) var(--hue-primary));
  --color-primary-800: oklch(32% var(--chroma-primary) var(--hue-primary));
  --color-primary-900: oklch(24% var(--chroma-primary) var(--hue-primary));

  /* --- Neutral Palette (niedrige Chroma für Grautöne) --- */
  --hue-neutral: 240;           /* Leicht bläulich für moderne Grautöne */
  --chroma-neutral: 0.01;       /* Fast keine Sättigung */

  --color-neutral-0:   oklch(100% 0 0);                                        /* Weiß */
  --color-neutral-50:  oklch(98% var(--chroma-neutral) var(--hue-neutral));
  --color-neutral-100: oklch(95% var(--chroma-neutral) var(--hue-neutral));
  --color-neutral-200: oklch(90% var(--chroma-neutral) var(--hue-neutral));
  --color-neutral-300: oklch(80% var(--chroma-neutral) var(--hue-neutral));
  --color-neutral-400: oklch(65% var(--chroma-neutral) var(--hue-neutral));
  --color-neutral-500: oklch(50% var(--chroma-neutral) var(--hue-neutral));
  --color-neutral-600: oklch(40% var(--chroma-neutral) var(--hue-neutral));
  --color-neutral-700: oklch(30% var(--chroma-neutral) var(--hue-neutral));
  --color-neutral-800: oklch(20% var(--chroma-neutral) var(--hue-neutral));
  --color-neutral-900: oklch(12% var(--chroma-neutral) var(--hue-neutral));
  --color-neutral-950: oklch(8% var(--chroma-neutral) var(--hue-neutral));     /* Fast Schwarz */

  /* --- Semantic Colors --- */
  --color-success: oklch(65% 0.2 145);   /* Grün */
  --color-warning: oklch(75% 0.18 85);   /* Orange/Gelb */
  --color-error:   oklch(55% 0.22 25);   /* Rot */
  --color-info:    oklch(60% 0.15 230);  /* Blau */

  /* --- Accent (für Highlights) --- */
  --hue-accent: 200;
  --color-accent: oklch(55% 0.2 var(--hue-accent));


  /* ========== SPACING SCALE ==========
     8pt Grid System (8, 16, 24, 32, 48, 64, 96)
  */
  --space-0:   0;
  --space-1:   0.25rem;   /* 4px */
  --space-2:   0.5rem;    /* 8px */
  --space-3:   0.75rem;   /* 12px */
  --space-4:   1rem;      /* 16px - Basis */
  --space-5:   1.5rem;    /* 24px */
  --space-6:   2rem;      /* 32px */
  --space-8:   3rem;      /* 48px */
  --space-10:  4rem;      /* 64px */
  --space-12:  6rem;      /* 96px */


  /* ========== TYPOGRAPHY SCALE ========== */
  --font-sans: 'Roboto', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;

  /* Fluid Type Scale (Minor Third Ratio: 1.2) */
  --text-xs:   clamp(0.75rem,  0.7rem + 0.25vw,  0.875rem);
  --text-sm:   clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
  --text-base: clamp(1rem,     0.925rem + 0.375vw, 1.125rem);
  --text-lg:   clamp(1.125rem, 1rem + 0.5vw,     1.25rem);
  --text-xl:   clamp(1.25rem,  1.1rem + 0.625vw, 1.5rem);
  --text-2xl:  clamp(1.5rem,   1.25rem + 1vw,    2rem);
  --text-3xl:  clamp(2rem,     1.5rem + 1.5vw,   2.5rem);
  --text-4xl:  clamp(2.5rem,   2rem + 2vw,       3.5rem);

  /* Line Heights (inversely proportional to size) */
  --leading-none:    1;
  --leading-tight:   1.2;
  --leading-snug:    1.375;
  --leading-normal:  1.6;
  --leading-relaxed: 1.75;

  /* Font Weights */
  --weight-light:    300;
  --weight-normal:   400;
  --weight-medium:   500;
  --weight-semibold: 600;
  --weight-bold:     700;

  /* Letter Spacing */
  --tracking-tight:  -0.025em;
  --tracking-normal: 0;
  --tracking-wide:   0.025em;


  /* ========== BORDERS & RADIUS ========== */
  --radius-sm:   4px;
  --radius-md:   8px;
  --radius-lg:   16px;
  --radius-xl:   24px;
  --radius-full: 9999px;

  --border-width: 1px;


  /* ========== ELEVATION SYSTEM ==========
     Simulates light from top-left
     Jede Stufe: mehr Tiefe, weicherer Schatten
  */

  /* Inset highlights (Lichtkante oben) */
  --highlight-subtle: inset 0 1px 0 0 oklch(100% 0 0 / 0.05);
  --highlight-strong: inset 0 1px 0 0 oklch(100% 0 0 / 0.1);

  /* Elevation Levels */
  --shadow-xs:
    0 1px 2px 0 oklch(0% 0 0 / 0.05);

  --shadow-sm:
    0 1px 3px 0 oklch(0% 0 0 / 0.1),
    0 1px 2px -1px oklch(0% 0 0 / 0.1);

  --shadow-md:
    0 4px 6px -1px oklch(0% 0 0 / 0.1),
    0 2px 4px -2px oklch(0% 0 0 / 0.1);

  --shadow-lg:
    0 10px 15px -3px oklch(0% 0 0 / 0.1),
    0 4px 6px -4px oklch(0% 0 0 / 0.1);

  --shadow-xl:
    0 20px 25px -5px oklch(0% 0 0 / 0.1),
    0 8px 10px -6px oklch(0% 0 0 / 0.1);

  --shadow-2xl:
    0 25px 50px -12px oklch(0% 0 0 / 0.25);

  /* Colored shadows (für Buttons etc.) */
  --shadow-primary:
    0 4px 14px 0 oklch(55% 0.18 230 / 0.35);


  /* ========== GLASS MORPHISM ========== */
  --glass-blur: 12px;
  --glass-saturation: 1.2;


  /* ========== TRANSITIONS ========== */
  --ease-default: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-in:      cubic-bezier(0.4, 0, 1, 1);
  --ease-out:     cubic-bezier(0, 0, 0.2, 1);
  --ease-bounce:  cubic-bezier(0.68, -0.55, 0.265, 1.55);

  --duration-fast:   150ms;
  --duration-normal: 250ms;
  --duration-slow:   400ms;


  /* ========== Z-INDEX SCALE ========== */
  --z-behind:     -1;
  --z-base:       0;
  --z-raised:     10;
  --z-dropdown:   100;
  --z-sticky:     500;
  --z-overlay:    1000;
  --z-modal:      10000;
  --z-toast:      10100;


  /* ========== SCROLLBAR ========== */
  --scrollbar-size: 8px;

  --theme-bg-sun: #ffffff;
  --theme-bg-light: #537FE7;

}


/* ==========================================================================
   2. THEME LAYER - Light/Dark Mode
   ========================================================================== */

/* --- LIGHT THEME (Default) --- */
:root,
[data-theme="light"] {
  color-scheme: light;

  /* Semantic Mappings */
  --bg-base:      var(--color-neutral-50);
  --bg-surface:   var(--color-neutral-0);
  --bg-elevated:  var(--color-neutral-0);
  --bg-sunken:    var(--color-neutral-100);

  --text-primary:   var(--color-neutral-900);
  --text-secondary: var(--color-neutral-600);
  --text-muted:     var(--color-neutral-400);
  --text-inverse:   var(--color-neutral-0);

  --border-default: var(--color-neutral-200);
  --border-subtle:  var(--color-neutral-100);
  --border-strong:  var(--color-neutral-300);

  --interactive:       var(--color-primary-500);
  --interactive-hover: var(--color-primary-600);
  --interactive-muted: var(--color-primary-100);

  /* Glass für Light Mode */
  --glass-bg:     oklch(100% 0 0 / 0.7);
  --glass-border: oklch(100% 0 0 / 0.5);
  --glass-shadow: var(--shadow-lg);

  /* Input Fields */
  --input-bg:     var(--color-neutral-0);
  --input-border: var(--color-neutral-300);
  --input-focus:  var(--color-primary-500);

  /* Scrollbar */
  --scrollbar-track: var(--color-neutral-100);
  --scrollbar-thumb: var(--color-neutral-300);
  --scrollbar-hover: var(--color-neutral-400);

  --theme-bg-sun: #ffffff;
  --theme-bg-light: #537FE7;

}


/* --- DARK THEME --- */
[data-theme="dark"] {
  color-scheme: dark;

  /* Semantic Mappings */
  --bg-base:      var(--color-neutral-950);
  --bg-surface:   var(--color-neutral-900);
  --bg-elevated:  var(--color-neutral-800);
  --bg-sunken:    oklch(5% 0.01 240);

  --text-primary:   var(--color-neutral-50);
  --text-secondary: var(--color-neutral-300);
  --text-muted:     var(--color-neutral-500);
  --text-inverse:   var(--color-neutral-900);

  --border-default: var(--color-neutral-700);
  --border-subtle:  var(--color-neutral-800);
  --border-strong:  var(--color-neutral-600);

  --interactive:       var(--color-primary-400);
  --interactive-hover: var(--color-primary-300);
  --interactive-muted: oklch(25% 0.08 230);

  /* Glass für Dark Mode */
  --glass-bg:     oklch(12% 0.015 240 / 0.75);
  --glass-border: oklch(100% 0 0 / 0.08);
  --glass-shadow:
    0 8px 32px oklch(0% 0 0 / 0.4),
    inset 0 1px 0 0 oklch(100% 0 0 / 0.05);

  /* Stärkere Highlights im Dark Mode */
  --highlight-subtle: inset 0 1px 0 0 oklch(100% 0 0 / 0.08);
  --highlight-strong: inset 0 1px 0 0 oklch(100% 0 0 / 0.15);

  /* Input Fields */
  --input-bg:     var(--color-neutral-800);
  --input-border: var(--color-neutral-600);
  --input-focus:  var(--color-primary-400);

  /* Schatten sind im Dark Mode subtiler */
  --shadow-sm:
    0 1px 3px 0 oklch(0% 0 0 / 0.25),
    0 1px 2px -1px oklch(0% 0 0 / 0.2);

  --shadow-md:
    0 4px 6px -1px oklch(0% 0 0 / 0.3),
    0 2px 4px -2px oklch(0% 0 0 / 0.2);

  --shadow-lg:
    0 10px 15px -3px oklch(0% 0 0 / 0.35),
    0 4px 6px -4px oklch(0% 0 0 / 0.25);

  /* Scrollbar */
  --scrollbar-track: var(--color-neutral-800);
  --scrollbar-thumb: var(--color-neutral-600);
  --scrollbar-hover: var(--color-neutral-500);


    --theme-bg-sun: #404060;
    --theme-bg-light: #181823;
}


/* ==========================================================================
   3. RESET & BASE STYLES
   ========================================================================== */

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 100%;
  line-height: var(--leading-normal);
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;

  /* Firefox Scrollbar */
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);

  height: 100%;
}

body {
  font-family: var(--font-sans);
  font-size: var(--text-base);
  font-weight: var(--weight-normal);
  color: var(--text-primary);
  background-color: var(--bg-base);
  min-height: 100%;
  transition:
    color var(--duration-normal) var(--ease-default),
    background-color var(--duration-normal) var(--ease-default);
}


/* ==========================================================================
   4. TYPOGRAPHY
   ========================================================================== */

h1, h2, h3, h4, h5, h6 {
  color: var(--text-primary);
  font-weight: var(--weight-semibold);
  line-height: var(--leading-tight);
  letter-spacing: var(--tracking-tight);
  text-wrap: balance;
  margin-block-end: var(--space-3);
}

h1 { font-size: var(--text-4xl); font-weight: var(--weight-bold); }
h2 { font-size: var(--text-3xl); font-weight: var(--weight-bold); }
h3 { font-size: var(--text-2xl); }
h4 { font-size: var(--text-xl); }
h5 { font-size: var(--text-lg); }
h6 { font-size: var(--text-base); font-weight: var(--weight-medium); }

p {
  margin-block-end: var(--space-4);
  line-height: var(--leading-normal);
  max-inline-size: 65ch; /* Optimale Lesbarkeit */
}

a {
  color: var(--interactive);
  text-decoration: none;
  font-weight: var(--weight-medium);
  transition: color var(--duration-fast) var(--ease-default);
}

a:hover,
a:focus {
  color: var(--interactive-hover);
  text-decoration: underline;
  text-decoration-thickness: 1.5px;
  text-underline-offset: 3px;
}

a:focus-visible {
  outline: 2px solid var(--interactive);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

code, pre {
  font-family: var(--font-mono);
  font-size: var(--text-sm);
}

code {
  background: var(--bg-sunken);
  padding: 0.1em 0.4em;
  border-radius: var(--radius-sm);
}

pre {
  background: var(--bg-sunken);
  padding: var(--space-4);
  border-radius: var(--radius-md);
  overflow-x: auto;
  border: var(--border-width) solid var(--border-subtle);
}

pre code {
  background: transparent;
  padding: 0;
}


/* ==========================================================================
   5. FORM ELEMENTS
   ========================================================================== */

label {
  display: block;
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  color: var(--text-secondary);
  margin-block-end: var(--space-1);
}

input,
textarea,
select {
  display: block;
  width: 100%;
  padding: var(--space-3) var(--space-4);
  font-family: inherit;
  font-size: var(--text-base);
  line-height: var(--leading-normal);
  color: var(--text-primary);
  background: var(--input-bg);
  border: var(--border-width) solid var(--input-border);
  border-radius: var(--radius-md);
  transition:
    border-color var(--duration-fast) var(--ease-default),
    box-shadow var(--duration-fast) var(--ease-default);
  appearance: none;
  margin-block-end: var(--space-4);
}

input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--input-focus);
  box-shadow:
    0 0 0 3px oklch(from var(--input-focus) l c h / 0.15),
    var(--shadow-xs);
}

input::placeholder,
textarea::placeholder {
  color: var(--text-muted);
}

textarea {
  resize: vertical;
  min-height: 120px;
}

/* Custom Select Arrow */
select {
  background-image: url("data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%236b7280%27 stroke-width=%272%27%3e%3cpath d=%27m6 9 6 6 6-6%27/%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right var(--space-3) center;
  background-size: 18px;
  padding-inline-end: var(--space-10);
}

[data-theme="dark"] select {
  background-image: url("data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%239ca3af%27 stroke-width=%272%27%3e%3cpath d=%27m6 9 6 6 6-6%27/%3e%3c/svg%3e");
}


/* ==========================================================================
   6. BUTTONS - Mit echtem Elevation-System
   ========================================================================== */

button,
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);

  padding: var(--space-3) var(--space-5);
  font-family: inherit;
  font-size: var(--text-base);
  font-weight: var(--weight-medium);
  line-height: var(--leading-tight);
  text-decoration: none;

  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;
  user-select: none;

  transition:
    transform var(--duration-fast) var(--ease-default),
    box-shadow var(--duration-fast) var(--ease-default),
    background-color var(--duration-fast) var(--ease-default);
}

/* Primary Button - Mit Tiefe */
.btn-primary,
button[type="submit"] {
  color: var(--text-inverse);
  background:
    linear-gradient(
      to bottom,
      var(--color-primary-400) 0%,
      var(--color-primary-500) 50%,
      var(--color-primary-600) 100%
    );
  box-shadow:
    var(--highlight-strong),
    var(--shadow-sm),
    0 2px 8px oklch(from var(--color-primary-500) l c h / 0.3);
}

.btn-primary:hover,
button[type="submit"]:hover {
  background:
    linear-gradient(
      to bottom,
      var(--color-primary-500) 0%,
      var(--color-primary-600) 50%,
      var(--color-primary-700) 100%
    );
  transform: translateY(-1px);
  box-shadow:
    var(--highlight-strong),
    var(--shadow-md),
    0 4px 12px oklch(from var(--color-primary-500) l c h / 0.4);
}

.btn-primary:active,
button[type="submit"]:active {
  transform: translateY(0);
  box-shadow:
    inset 0 2px 4px oklch(0% 0 0 / 0.2),
    var(--shadow-xs);
}

/* Secondary Button */
.btn-secondary {
  color: var(--text-primary);
  background: var(--bg-surface);
  border: var(--border-width) solid var(--border-default);
  box-shadow:
    var(--highlight-subtle),
    var(--shadow-xs);
}

.btn-secondary:hover {
  background: var(--bg-elevated);
  border-color: var(--border-strong);
  transform: translateY(-1px);
  box-shadow:
    var(--highlight-subtle),
    var(--shadow-sm);
}

/* Ghost Button */
.btn-ghost {
  color: var(--text-secondary);
  background: transparent;
}

.btn-ghost:hover {
  color: var(--text-primary);
  background: var(--interactive-muted);
}

/* Focus State */
button:focus-visible,
.btn:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 3px var(--bg-base),
    0 0 0 5px var(--interactive);
}

/* Disabled State */
button:disabled,
.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none !important;
}


/* ==========================================================================
   7. CARDS & SURFACES
   ========================================================================== */

.card {
  background: var(--bg-surface);
  border: var(--border-width) solid var(--border-subtle);
  border-radius: var(--radius-lg);
  padding: var(--space-5);

  /* Elevation mit Lichtkante */
  box-shadow:
    var(--highlight-subtle),
    var(--shadow-sm);

  transition:
    transform var(--duration-normal) var(--ease-default),
    box-shadow var(--duration-normal) var(--ease-default);
}

.card:hover {
  transform: translateY(-2px);
  box-shadow:
    var(--highlight-subtle),
    var(--shadow-md);
}

.card-title {
  font-size: var(--text-lg);
  font-weight: var(--weight-semibold);
  margin-block-end: var(--space-2);
}

.card-content {
  color: var(--text-secondary);
  line-height: var(--leading-normal);
}

.card-content > *:last-child {
  margin-block-end: 0;
}


/* ==========================================================================
   8. GLASS MORPHISM COMPONENTS
   ========================================================================== */

.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturation));
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturation));
  border: var(--border-width) solid var(--glass-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--glass-shadow);
}

/* Fallback für Browser ohne backdrop-filter */
@supports not (backdrop-filter: blur(10px)) {
  .glass {
    background: var(--bg-surface);
    opacity: 0.98;
  }
}


/* ==========================================================================
   9. LAYOUT COMPONENTS
   ========================================================================== */

/* Main Content Container */

#MainContent {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
}

.main-content {
  max-width: 95vw;
  margin-inline: auto;
  padding: var(--space-6) var(--space-5);

  /* Glass Effect */
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturation));
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturation));
  border-radius: var(--radius-lg);
  border: var(--border-width) solid var(--glass-border);
  box-shadow: var(--glass-shadow);
}

/* Content Wrapper */
.content-wrapper {
  position: relative;
  z-index: var(--z-base);
  width: 100%;
  min-height: 100vh;
  overflow-x: hidden;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: var(--space-8) var(--space-4);
  padding-block-start: var(--space-12);
}


/* ==========================================================================
   10. NAVIGATION
   ========================================================================== */

.nav-controls {
  position: fixed;
  top: var(--space-4);
  left: var(--space-4);
  z-index: var(--z-sticky);

  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-2);

  background: var(--glass-bg);
  backdrop-filter: blur(calc(var(--glass-blur) * 0.8));
  -webkit-backdrop-filter: blur(calc(var(--glass-blur) * 0.8));
  border: var(--border-width) solid var(--glass-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--glass-shadow);
}

.nav-toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  padding: 0;

  background: transparent;
  border: none;
  border-radius: var(--radius-full);
  cursor: pointer;
  color: var(--text-secondary);

  transition:
    background-color var(--duration-fast) var(--ease-default),
    color var(--duration-fast) var(--ease-default);
}

.nav-toggle:hover {
  background: var(--interactive-muted);
  color: var(--text-primary);
}

/* Dropdown Menu */
.nav-dropdown {
  position: absolute;
  top: calc(100% + var(--space-2));
  left: 0;
  min-width: 200px;

  padding: var(--space-2);
  list-style: none;

  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: var(--border-width) solid var(--glass-border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);

  /* Hidden by default */
  opacity: 0;
  visibility: hidden;
  transform: translateY(-8px) scale(0.95);
  transform-origin: top left;

  transition:
    opacity var(--duration-fast) var(--ease-default),
    visibility var(--duration-fast) var(--ease-default),
    transform var(--duration-fast) var(--ease-out);
}

.nav-dropdown.is-open {
  opacity: 1;
  visibility: visible;
  transform: translateY(0) scale(1);
}

.nav-dropdown a {
  display: block;
  padding: var(--space-3) var(--space-4);
  color: var(--text-secondary);
  font-weight: var(--weight-normal);
  border-radius: var(--radius-sm);
  transition:
    background-color var(--duration-fast) var(--ease-default),
    color var(--duration-fast) var(--ease-default);
}

.nav-dropdown a:hover,
.nav-dropdown a:focus {
  background: var(--interactive);
  color: var(--text-inverse);
  text-decoration: none;
}


/* ==========================================================================
   11. WIDGETS
   ========================================================================== */

.widget {
  position: absolute;
  display: flex;
  flex-direction: column;

  min-width: 200px;
  min-height: 100px;
  max-height: 80vh;
  padding: var(--space-4);
  padding-block-start: var(--space-8);

  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: var(--border-width) solid var(--glass-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--glass-shadow);

  resize: both;
  overflow: hidden;
  animation: widget-enter var(--duration-normal) var(--ease-out);
}

@keyframes widget-enter {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.widget-header {
  position: absolute;
  top: var(--space-2);
  left: var(--space-4);
  right: var(--space-4);

  display: flex;
  justify-content: space-between;
  align-items: center;
}

.widget-title {
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

.widget-actions {
  display: flex;
  gap: var(--space-1);
}

.widget-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  padding: 0;

  background: transparent;
  border: none;
  border-radius: var(--radius-full);
  cursor: pointer;
  color: var(--text-muted);

  transition:
    background-color var(--duration-fast) var(--ease-default),
    color var(--duration-fast) var(--ease-default);
}

.widget-btn:hover {
  background: oklch(from var(--text-primary) l c h / 0.1);
  color: var(--text-primary);
}

.widget-content {
  flex: 1;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) transparent;
}


/* ==========================================================================
   12. MODALS & OVERLAYS
   ========================================================================== */

.overlay {
  position: fixed;
  inset: 0;
  z-index: var(--z-overlay);

  background: oklch(0% 0 0 / 0.5);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);

  opacity: 0;
  visibility: hidden;
  transition:
    opacity var(--duration-normal) var(--ease-default),
    visibility var(--duration-normal) var(--ease-default);
}

.overlay.is-active {
  opacity: 1;
  visibility: visible;
}

.modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.95);
  z-index: var(--z-modal);

  width: 90%;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
  padding: var(--space-6);

  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: var(--border-width) solid var(--glass-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-2xl);

  opacity: 0;
  visibility: hidden;
  transition:
    opacity var(--duration-normal) var(--ease-default),
    visibility var(--duration-normal) var(--ease-default),
    transform var(--duration-normal) var(--ease-out);
}

.modal.is-active {
  opacity: 1;
  visibility: visible;
  transform: translate(-50%, -50%) scale(1);
}


/* ==========================================================================
   13. SCROLLBAR STYLES (Webkit)
   ========================================================================== */

::-webkit-scrollbar {
  width: var(--scrollbar-size);
  height: var(--scrollbar-size);
}

::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: var(--radius-full);
  border: 2px solid var(--scrollbar-track);
  transition: background-color var(--duration-fast);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-hover);
}

.hide-scrollbar {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}


/* ==========================================================================
   14. UTILITY CLASSES
   ========================================================================== */

/* Text Sizes */
.text-xs   { font-size: var(--text-xs); }
.text-sm   { font-size: var(--text-sm); }
.text-base { font-size: var(--text-base); }
.text-lg   { font-size: var(--text-lg); }
.text-xl   { font-size: var(--text-xl); }
.text-2xl  { font-size: var(--text-2xl); }
.text-3xl  { font-size: var(--text-3xl); }
.text-4xl  { font-size: var(--text-4xl); }

/* Font Weights */
.font-light    { font-weight: var(--weight-light); }
.font-normal   { font-weight: var(--weight-normal); }
.font-medium   { font-weight: var(--weight-medium); }
.font-semibold { font-weight: var(--weight-semibold); }
.font-bold     { font-weight: var(--weight-bold); }

/* Text Alignment */
.text-left   { text-align: left; }
.text-center { text-align: center; }
.text-right  { text-align: right; }

/* Text Colors */
.text-primary   { color: var(--text-primary); }
.text-secondary { color: var(--text-secondary); }
.text-muted     { color: var(--text-muted); }

/* Display */
.hidden { display: none !important; }
.block  { display: block; }
.inline { display: inline; }
.flex   { display: flex; }
.grid   { display: grid; }

/* Flex Utilities */
.items-center   { align-items: center; }
.justify-center { justify-content: center; }
.gap-2 { gap: var(--space-2); }
.gap-4 { gap: var(--space-4); }
.gap-6 { gap: var(--space-6); }

/* Spacing */
.m-0  { margin: 0; }
.mt-4 { margin-block-start: var(--space-4); }
.mb-4 { margin-block-end: var(--space-4); }
.p-4  { padding: var(--space-4); }
.px-4 { padding-inline: var(--space-4); }
.py-4 { padding-block: var(--space-4); }


/* ==========================================================================
   15. ANIMATIONS
   ========================================================================== */

@keyframes hologram {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; filter: hue-rotate(0deg); }
}

@keyframes animate-spin {
    from { transform: rotate(0deg); }
    to   { transform: rotate(360deg); }
}

@keyframes fade-in {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in-scale {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slide-in-left {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-fade-in     { animation: fade-in var(--duration-normal) var(--ease-out); }
.animate-fade-in-up  { animation: fade-in-up var(--duration-normal) var(--ease-out); }
.animate-fade-in-scale { animation: fade-in-scale var(--duration-normal) var(--ease-out); }


/* ==========================================================================
   16. RESPONSIVE BREAKPOINTS
   ========================================================================== */

/* Tablet */
@media screen and (max-width: 1024px) {
  .main-content {
    max-width: 90vw;
    padding: var(--space-5) var(--space-4);
  }
}

/* Mobile */
@media screen and (max-width: 767px) {
  .content-wrapper {
    padding: var(--space-5) var(--space-3);
    padding-block-start: var(--space-10);
  }

  .main-content {
    max-width: 100%;
    padding: var(--space-4);
    border-radius: var(--radius-md);
  }

  h1 { font-size: var(--text-3xl); }
  h2 { font-size: var(--text-2xl); }
  h3 { font-size: var(--text-xl); }

  button,
  .btn {
    width: 100%;
    max-width: 300px;
  }

  .nav-controls {
    top: var(--space-2);
    left: var(--space-2);
    padding: var(--space-1);
  }
}


/* ==========================================================================
   17. MATERIAL ICONS SUPPORT
   ========================================================================== */

.material-symbols-outlined {
  font-family: 'Material Symbols Outlined';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;

  /* Variable font settings */
  font-variation-settings:
    'FILL' 0,
    'wght' 300,
    'GRAD' 0,
    'opsz' 24;

  -webkit-font-smoothing: antialiased;
  vertical-align: middle;
  flex-shrink: 0;
}


#tbjs-cookie-banner {
    /* Core Positioning & Sizing (from Tailwind: fixed bottom-0 inset-x-0 z-[1000]) */
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1000;

    /* Background & Border (from Tailwind: bg-gray-100 p-4 border-t border-gray-300 shadow-lg) */
    background-color:var(--bg-base); /* Equivalent to bg-gray-100 */
    padding: 1rem; /* Equivalent to p-4 */
    border-top: 1px solid var(--color-primary-300); /* Equivalent to border-t border-gray-300 */
    box-shadow: 0 -10px 15px -3px rgba(var(--text-color), 0.1), 0 -4px 6px -2px rgba(var(--text-color), 0.05); /* Equivalent to shadow-lg (applied from bottom) */

    /* Text (from Tailwind: text-sm text-text-color) */
    font-size: 0.875rem; /* Equivalent to text-sm */
    line-height: 1.25rem;
    color: var(--text-color); /* Example: text-gray-700. Replace with your actual 'text-text-color' */

    /* Animation - Initial State (from Tailwind: transition-all duration-300 ease-in-out transform translate-y-full opacity-0) */
    opacity: 0;
    transform: translateY(100%);
    transition-property: opacity, transform;
    transition-timing-function: ease-in-out;
    transition-duration: 300ms;

    /* --- FOR DEBUGGING: Uncomment this to make it VERY obvious if CSS is applying at all --- */
    /* border: 5px solid red !important;
    background-color: yellow !important; */
}

/* Styles for when the banner is active/visible (JS will set opacity to 1 and transform to translateY(0)) */
/* (No specific CSS needed here if JS directly manipulates these styles for the 'shown' state) */


/* Dark Mode Styles (mimicking Tailwind dark: variants) */
/* Add a class like "dark" to your <html> or <body> tag to enable these */
.dark #tbjs-cookie-banner {
    background-color: var(--bg-base); /* Equivalent to dark:bg-gray-800 or dark:bg-gray-900 */
    border-top-color:var(--color-primary-300); /* Equivalent to dark:border-gray-700 */
    color: var(--text-color); /* Example: dark:text-gray-200. Replace with your dark 'text-text-color' */
}

/* --- CSS for the inner container of #tbjs-cookie-banner --- */
/* This is the div that gets 'max-w-screen-lg mx-auto ...' */
#tbjs-cookie-banner > div:first-child {
    max-width: 1024px; /* Equivalent to max-w-screen-lg */
    margin-left: auto;
    margin-right: auto;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem 1rem; /* Approximates gap-y-2 gap-x-4 */
}

/* Optional: Specific styles for elements inside the banner if needed */
#tbjs-cookie-banner #tb-cookie-banner-close {
    position: absolute; /* Tailwind: absolute */
    top: 0.5rem;      /* Tailwind: top-2 */
    right: 0.5rem;     /* Tailwind: right-2 */
    color: #6b7280;   /* Tailwind: text-gray-500 */
    font-size: 1.25rem;/* Tailwind: text-xl (adjust if material icon needs different sizing) */
    padding: 0.25rem;  /* Tailwind: p-1 */
    margin: -0.25rem;  /* Tailwind: -m-1 */
    cursor: pointer;
    line-height: 1; /* Ensure icon aligns well */
}
.dark #tbjs-cookie-banner #tb-cookie-banner-close {
    color: var(--theme-accent);   /* Tailwind: dark:text-gray-300 */
}
#tbjs-cookie-banner #tb-cookie-banner-close:hover {
    color: var(--color-primary-300);   /* Tailwind: hover:text-gray-700 */
}
.dark #tbjs-cookie-banner #tb-cookie-banner-close:hover {
    color: var(--theme-accent);   /* Tailwind: dark:hover:text-gray-400 */
}


#tbjs-cookie-banner h3 {
    font-weight: 600; /* Tailwind: font-semibold */
    font-size: 1rem;   /* Tailwind: text-base */
    line-height: 1.5rem;
}

#tbjs-cookie-banner p {
    margin-top: 0.25rem; /* Tailwind: mt-1 */
    font-size: 0.75rem; /* Tailwind: text-xs */
    /* sm:text-sm equivalent would require a media query */
}

@media (min-width: 640px) { /* sm breakpoint */
    #tbjs-cookie-banner p {
        font-size: 0.875rem; /* Tailwind: sm:text-sm */
    }
    #tbjs-cookie-banner #tb-cookie-banner-accept-minimal {
        padding-left: 1rem;    /* Tailwind: sm:px-4 */
        padding-right: 1rem;   /* Tailwind: sm:px-4 */
        padding-top: 0.5rem;   /* Tailwind: sm:py-2 */
        padding-bottom: 0.5rem;/* Tailwind: sm:py-2 */
    }
}


#tbjs-cookie-banner #tb-cookie-banner-show-settings {
    font-size: 0.75rem; /* Tailwind: text-xs */
    text-decoration: underline;
}
#tbjs-cookie-banner #tb-cookie-banner-show-settings:hover {
    color: var(--color-primary-300); /* Example: hover:text-primary-500, replace with your primary color */
}

#tbjs-cookie-banner #tb-cookie-banner-accept-minimal {
    padding: 0.375rem 0.75rem; /* Tailwind: px-3 py-1.5 */
    border-radius: 0.375rem; /* Tailwind: rounded-md */
    background-color:  var(--bg-base); /* Example: bg-primary-600, replace with your primary color */
    color: var(--text-color);
    font-size: 0.75rem; /* Tailwind: text-xs */
    font-weight: 500; /* Tailwind: font-medium */
}
#tbjs-cookie-banner #tb-cookie-banner-accept-minimal:hover {
    background-color:var(--bg-base); /* Example: hover:bg-primary-700 */
}

/* --- START OF FILE Modal.css --- */

/*
    CSS for TB.ui.Modal Component
    This CSS aims to replicate the Tailwind CSS classes defined in Modal.js.
    If Tailwind CSS is properly configured and working, these explicit CSS rules
    might not be necessary, or can serve as a fallback/reference.
*/

/* --- General Modal Variables (Optional - for easier theming) --- */
:root {
    --tb-modal-overlay-bg-light: rgba(0, 0, 0, 0.3);          /* bg-black/30 */
    --tb-modal-overlay-bg-dark: rgba(0, 0, 0, 0.6);           /* dark:bg-black/60 */
    --tb-modal-backdrop-blur: blur(2px);                      /* backdrop-blur-sm on overlay */

    --tb-modal-bg-light: rgba(255, 255, 255, 0.6);            /* bg-white/60 */
    --tb-modal-bg-dark: rgba(38, 38, 38, 0.7);              /* dark:bg-neutral-800/70 (approx) */
    --tb-modal-text-light: #171717;                         /* text-neutral-900 (approx) */
    --tb-modal-text-dark: #f5f5f5;                          /* text-neutral-100 (approx) */
    --tb-modal-border-light: rgba(255, 255, 255, 0.4);        /* border-white/40 */
    --tb-modal-border-dark: rgba(64, 64, 64, 0.5);           /* dark:border-neutral-600/50 (approx) */
    --tb-modal-container-blur: blur(8px);                    /* backdrop-blur-lg */
    --tb-modal-container-blur-dark: blur(12px);              /* dark:backdrop-blur-xl */

    --tb-modal-header-border-light: rgba(229, 229, 229, 0.5); /* border-neutral-300/50 (approx) */
    --tb-modal-header-border-dark: rgba(64, 64, 64, 0.5);    /* dark:border-neutral-700/50 (approx) */

    --tb-modal-close-btn-text-light: #525252;               /* text-neutral-600 */
    --tb-modal-close-btn-text-dark: #a3a3a3;                /* dark:text-neutral-400 */
    --tb-modal-close-btn-hover-bg-light: rgba(82, 82, 82, 0.2); /* hover:bg-neutral-500/20 */
    --tb-modal-close-btn-hover-bg-dark: rgba(212, 212, 212, 0.2);/* dark:hover:bg-neutral-300/20 */

    --tb-modal-transition-duration: 300ms;
    --tb-modal-transition-timing: ease-in-out;
    --tb-modal-z-index-overlay: 1050;
}

/* --- Modal Overlay --- */
/* Targets elements with IDs like "tb-modal-xxxx-overlay" */
[id^="tb-modal-"][id$="-overlay"] {
    /* Core Positioning & Sizing (fixed inset-0 z-[1050]) */
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--tb-modal-z-index-overlay);

    /* Background & Blur (bg-black/30 dark:bg-black/60 backdrop-blur-sm) */
    background-color: var(--tb-modal-overlay-bg-light);
    backdrop-filter: var(--tb-modal-backdrop-blur);
    -webkit-backdrop-filter: var(--tb-modal-backdrop-blur); /* Safari */

    /* Centering Content (flex items-center justify-center) */
    display: flex;
    align-items: center;
    justify-content: center;

    /* Padding (p-4) */
    padding: 1rem;

    /* Animation - Initial State (opacity-0 transition-opacity duration-300 ease-in-out) */
    opacity: 0;
    transition-property: opacity;
    transition-duration: var(--tb-modal-transition-duration);
    transition-timing-function: var(--tb-modal-transition-timing);
}

.dark [id^="tb-modal-"][id$="-overlay"] {
    background-color: var(--tb-modal-overlay-bg-dark);
}

/* --- Modal Container --- */
/* Targets elements with IDs like "tb-modal-xxxx" BUT NOT "tb-modal-xxxx-overlay" */
[id^="tb-modal-"]:not([id$="-overlay"]) {
    /* Background & Glass Effect (bg-white/60 dark:bg-neutral-800/70 backdrop-blur-lg dark:backdrop-blur-xl) */
    background-color: var(--tb-modal-bg-light);
    backdrop-filter: var(--tb-modal-container-blur);
    -webkit-backdrop-filter: var(--tb-modal-container-blur); /* Safari */

    /* Border (border border-white/40 dark:border-neutral-600/50) */
    border: 1px solid var(--text-color);

    /* Text Color (text-neutral-900 dark:text-neutral-100) */
    color: var(--tb-modal-text-light);

    /* Shape & Shadow (rounded-2xl shadow-xl) */
    border-radius: 1rem; /* rounded-2xl */
    box-shadow: 0 20px 25px -5px rgba(var(--text-color),0.1), 0 10px 10px -5px rgba(var(--text-color),0.04); /* shadow-xl */

    /* Sizing & Layout (w-full ${this.options.maxWidth} p-0 max-h-[90vh] overflow-y-auto flex flex-col) */
    width: 100%; /* w-full */
    /* max-width is applied by Tailwind class from options.maxWidth in JS */
    padding: 0; /* p-0 */
    max-height: 90vh;
    overflow-y: auto;
    display: flex;
    flex-direction: column;

    /* Animation - Initial State (transform transition-all duration-300 ease-in-out scale-95 opacity-0) */
    opacity: 0;
    transform: scale(0.95);
    transition-property: opacity, transform;
    transition-duration: var(--tb-modal-transition-duration);
    transition-timing-function: var(--tb-modal-transition-timing);
}

.dark [id^="tb-modal-"]:not([id$="-overlay"]) {
    background-color: var(--tb-modal-bg-dark);
    backdrop-filter: var(--tb-modal-container-blur-dark);
    -webkit-backdrop-filter: var(--tb-modal-container-blur-dark); /* Safari */
    border-color: var(--tb-modal-border-dark);
    color: var(--tb-modal-text-dark);
}

/* --- Modal Header --- */
/* Targets the first div child of the modal container IF it's used for the header */
[id^="tb-modal-"]:not([id$="-overlay"]) > div:first-child { /* This selector assumes header is the first div */
    /* Layout (flex justify-between items-center flex-shrink-0) */
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0;

    /* Padding (p-4 md:p-6) */
    padding: 1rem; /* p-4 */

    /* Border (border-b border-neutral-300/50 dark:border-neutral-700/50) */
    border-bottom: 1px solid var(--tb-modal-header-border-light);
}

.dark [id^="tb-modal-"]:not([id$="-overlay"]) > div:first-child {
    border-bottom-color: var(--tb-modal-header-border-dark);
}

@media (min-width: 768px) { /* md breakpoint */
    [id^="tb-modal-"]:not([id$="-overlay"]) > div:first-child {
        padding: 1.5rem; /* md:p-6 */
    }
}

/* --- Modal Title (within header) --- */
/* Targets h3 with id like "tb-modal-xxxx-title" */
[id^="tb-modal-"][id$="-title"] {
    /* Typography (text-lg font-semibold) */
    font-size: 1.125rem; /* text-lg */
    line-height: 1.75rem;
    font-weight: 600; /* font-semibold */
}

/* --- Modal Close Button (within header) --- */
/* Targets button.material-symbols-outlined within the header-like div */
[id^="tb-modal-"]:not([id$="-overlay"]) > div:first-child button.material-symbols-outlined {
    /* Icon specific styles are assumed to be handled by .material-symbols-outlined global class */
    padding: 0.25rem; /* p-1 */
    border-radius: 0.25rem; /* rounded */
    color: var(--tb-modal-close-btn-text-light);
    transition-property: background-color, color;
    transition-duration: 150ms; /* Common transition duration for interactive elements */
    background-color: transparent;
    border: none;
    cursor: pointer;
}

.dark [id^="tb-modal-"]:not([id$="-overlay"]) > div:first-child button.material-symbols-outlined {
    color: var(--tb-modal-close-btn-text-dark);
}

[id^="tb-modal-"]:not([id$="-overlay"]) > div:first-child button.material-symbols-outlined:hover {
    background-color: var(--tb-modal-close-btn-hover-bg-light);
}

.dark [id^="tb-modal-"]:not([id$="-overlay"]) > div:first-child button.material-symbols-outlined:hover {
    background-color: var(--tb-modal-close-btn-hover-bg-dark);
}


/* --- Modal Body --- */
/* This styling relies on the body being the second div if a header exists,
   or the first if no header. A more specific class from JS would be better.
   For now, targeting a div that is a direct child and likely the body:
*/
[id^="tb-modal-"]:not([id$="-overlay"]) > div:not(:first-child):not(:last-child), /* If header and footer exist */
[id^="tb-modal-"]:not([id$="-overlay"]) > div:first-child:last-child, /* If only body */
[id^="tb-modal-"]:not([id$="-overlay"]) > div:first-child:not(:last-child):nth-child(1) ~ div:nth-child(2), /* If header exists, body is 2nd */
[id^="tb-modal-"]:not([id$="-overlay"]) > div:only-child /* If body is the only child, no header/footer via JS options */
{
    /* Layout (flex-grow overflow-y-auto) */
    flex-grow: 1;
    /* overflow-y: auto; /* Already on modal container, maybe not needed here unless specific */

    /* Padding (p-4 md:p-6) */
    padding: 1rem; /* p-4 */
}
/* More robust if body gets a specific class via `customClasses.body` option */
[id^="tb-modal-"]:not([id$="-overlay"]) .tb-modal-body-js-applied-class { /* Example if you add a class in JS */
    flex-grow: 1;
    padding: 1rem;
}


@media (min-width: 768px) { /* md breakpoint */
    [id^="tb-modal-"]:not([id$="-overlay"]) > div:not(:first-child):not(:last-child),
    [id^="tb-modal-"]:not([id$="-overlay"]) > div:first-child:last-child,
    [id^="tb-modal-"]:not([id$="-overlay"]) > div:first-child:not(:last-child):nth-child(1) ~ div:nth-child(2),
    [id^="tb-modal-"]:not([id$="-overlay"]) > div:only-child,
    [id^="tb-modal-"]:not([id$="-overlay"]) .tb-modal-body-js-applied-class {
        padding: 1.5rem; /* md:p-6 */
    }
}

/* --- Modal Footer --- */
/* Targets the last div child of the modal container IF it's used for the footer */
[id^="tb-modal-"]:not([id$="-overlay"]) > div:last-child { /* This selector assumes footer is the last div */
    /* Layout (mt-auto flex flex-wrap justify-end gap-3 flex-shrink-0) */
    margin-top: auto; /* Pushes footer to bottom if modal body doesn't fill height */
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-end;
    gap: 0.75rem; /* gap-3 */
    flex-shrink: 0;

    /* Padding (p-4 md:p-6) */
    padding: 1rem; /* p-4 */

    /* Border (border-t border-neutral-300/50 dark:border-neutral-700/50) */
    border-top: 1px solid var(--tb-modal-header-border-light); /* Reusing header border color var */
}

.dark [id^="tb-modal-"]:not([id$="-overlay"]) > div:last-child {
    border-top-color: var(--tb-modal-header-border-dark);
}

@media (min-width: 768px) { /* md breakpoint */
    [id^="tb-modal-"]:not([id$="-overlay"]) > div:last-child {
        padding: 1.5rem; /* md:p-6 */
    }
}


/* --- Material Symbols Outlined (Ensure this is globally available or defined here) --- */
.material-symbols-outlined {
  font-variation-settings:
  'FILL' 0,
  'wght' 400,
  'GRAD' 0,
  'opsz' 24; /* Default size, can be overridden */
  font-family: 'Material Symbols Outlined'; /* Ensure this font is loaded in your project */
  font-weight: normal;
  font-style: normal;
  font-size: 24px;  /* Default icon size */
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-feature-settings: 'liga';
  -webkit-font-smoothing: antialiased;
}

/*
  NOTE:
  - Max width for the modal container ([id^="tb-modal-"]:not([id$="-overlay"]))
    is intended to be applied via a Tailwind class (e.g., 'max-w-lg')
    passed in `this.options.maxWidth` and added directly to the element's class list in JS.
    If you remove that from JS, you'd need to add max-width here or via specific classes.
  - Button styling for buttons within the footer is assumed to be handled by TB.ui.Button.create()
    and its own styling (variants, custom classes).
  - The actual animation (changing opacity and transform values) is handled by JavaScript in the
    show() and close() methods. This CSS sets up the initial state and transition properties.
  - For more robust styling of header, body, and footer, consider adding specific classes to them
    via the `customClasses` option in `Modal.js` (e.g., `this.options.customClasses.header`, etc.)
    and targeting those classes here. The current selectors are based on DOM structure which can be fragile.
*/

/* --- FOR DEBUGGING: Uncomment this to make elements very obvious if CSS is applying --- */
/*
[id^="tb-modal-"][id$="-overlay"] { border: 3px solid blue !important; }
[id^="tb-modal-"]:not([id$="-overlay"]) { border: 3px solid red !important; }
[id^="tb-modal-"]:not([id$="-overlay"]) > div:first-child { border: 2px dashed green !important; } // Header
[id^="tb-modal-"]:not([id$="-overlay"]) > div:last-child { border: 2px dashed purple !important; } // Footer
*/

/* --- END OF FILE Modal.css --- */

/* Modern Toast Styles - Slim, Plastic, Minimalistic */

/* Container for all toasts */
.tb-toast-container {
    max-width: 400px;
    width: 100%;
}

/* Main toast element */
.tb-toast {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 12px;
    box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.12),
        0 2px 8px rgba(0, 0, 0, 0.08);
    color: #1f2937;
    font-size: 14px;
    line-height: 1.4;
    min-width: 280px;
    max-width: 380px;
    overflow: hidden;
    position: relative;
    transform: translateY(-20px) scale(0.95);
    opacity: 0;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform, opacity;
}

/* Dark mode */
:root[data-theme="dark"] {
    .tb-toast {
        background: rgba(17, 24, 39, 0.95);
        border-color: rgba(75, 85, 99, 0.3);
        color: #f9fafb;
        box-shadow:
            0 8px 32px rgba(0, 0, 0, 0.3),
            0 2px 8px rgba(0, 0, 0, 0.2);
    }
}

/* Toast states */
.tb-toast.tb-toast-showing {
    transform: translateY(0) scale(1);
    opacity: 1;
}

.tb-toast.tb-toast-hiding {
    transform: translateY(-10px) scale(0.98);
    opacity: 0;
    transition: all 0.2s ease-in;
}

.tb-toast.tb-toast-hidden {
    display: none;
}

/* Header section */
.tb-toast-header {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px 8px;
    min-height: 40px;
}

/* Icon */
.tb-toast-icon {
    color: var(--toast-color);
    font-size: 18px !important;
    flex-shrink: 0;
    line-height: 1;
}

/* Title */
.tb-toast-title {
    color: var(--toast-color);
    font-weight: 600;
    font-size: 13px;
    flex: 1;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    opacity: 0.9;
}

/* Close button */
.tb-toast-close {
    background: none;
    border: none;
    color: inherit;
    cursor: pointer;
    opacity: 0.6;
    padding: 4px;
    border-radius: 6px;
    transition: all 0.15s ease;
    flex-shrink: 0;
    margin-left: auto;
}

.tb-toast-close:hover {
    opacity: 1;
    background: rgba(0, 0, 0, 0.05);
}

@media (prefers-color-scheme: dark) {
    .tb-toast-close:hover {
        background: rgba(255, 255, 255, 0.1);
    }
}

.tb-toast-close .material-symbols-outlined {
    font-size: 16px !important;
    line-height: 1;
}

/* Message content */
.tb-toast-message {
    padding: 0 16px 12px;
    color: inherit;
    opacity: 0.9;
    line-height: 1.5;
}

/* Action buttons */
.tb-toast-actions {
    display: flex;
    gap: 8px;
    justify-content: flex-end;
    padding: 8px 16px 12px;
}

.tb-toast-action-btn {
    background: var(--toast-color);
    border: none;
    border-radius: 6px;
    color: white;
    cursor: pointer;
    font-size: 12px;
    font-weight: 500;
    padding: 6px 12px;
    transition: all 0.15s ease;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.tb-toast-action-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    filter: brightness(1.1);
}

.tb-toast-action-btn:active {
    transform: translateY(0);
}

/* Progress bar */
.tb-toast-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: rgba(0, 0, 0, 0.05);
    overflow: hidden;
}

@media (prefers-color-scheme: dark) {
    .tb-toast-progress {
        background: rgba(255, 255, 255, 0.1);
    }
}

.tb-toast-progress-bar {
    height: 100%;
    background: var(--toast-color);
    transform-origin: left;
    transition: transform 0.1s linear;
    will-change: transform;
}

/* Dot indicator (after toast is hidden) */
.tb-toast-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    cursor: pointer;
    opacity: 0;
    transform: scale(0.5);
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    animation: tb-toast-dot-appear 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    margin: 4px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.tb-toast-dot:hover {
    transform: scale(1.3);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.25);
}

.tb-toast-dot.tb-toast-dot-hiding {
    animation: tb-toast-dot-disappear 0.2s ease-in forwards;
}

/* Dot animations */
@keyframes tb-toast-dot-appear {
    from {
        opacity: 0;
        transform: scale(0.5);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes tb-toast-dot-disappear {
    from {
        opacity: 1;
        transform: scale(1);
    }
    to {
        opacity: 0;
        transform: scale(0.5);
    }
}

/* Responsive adjustments */
@media (max-width: 640px) {
    .tb-toast-container {
        max-width: calc(100vw - 32px);
        margin: 0 16px;
    }

    .tb-toast {
        min-width: 240px;
        max-width: none;
        width: 100%;
    }

    .tb-toast-header {
        padding: 10px 14px 6px;
    }

    .tb-toast-message {
        padding: 0 14px 10px;
    }

    .tb-toast-actions {
        padding: 6px 14px 10px;
    }
}

/* Utility classes for positioning (used by JS) */
.tb-fixed { position: fixed; }
.tb-z-\[9999\] { z-index: 9999; }
.tb-flex { display: flex; }
.tb-flex-col { flex-direction: column; }
.tb-pointer-events-none { pointer-events: none; }
.tb-p-4 { padding: 1rem; }
.tb-gap-2 { gap: 0.5rem; }
.tb-top-0 { top: 0; }
.tb-right-0 { right: 0; }
.tb-bottom-0 { bottom: 0; }
.tb-left-0 { left: 0; }
.tb-left-1\/2 { left: 50%; }
.tb--translate-x-1\/2 { transform: translateX(-50%); }
.tb-items-end { align-items: flex-end; }
.tb-items-start { align-items: flex-start; }
.tb-items-center { align-items: center; }

/* Animation performance optimizations */
.tb-toast,
.tb-toast-dot {
    backface-visibility: hidden;
    perspective: 1000px;
}

/* Print styles */
@media print {
    .tb-toast-container,
    .tb-toast,
    .tb-toast-dot {
        display: none !important;
    }
}

/* tbjs/ui/components/Chat/Chat.css */

.tb-chat-widget {
    display: flex;
    flex-direction: column;
    height: 100%;
    max-height: 70vh;
    width: 100%;
    max-width: 600px;
    background-color: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius-lg);
    box-shadow: var(--glass-shadow);
    overflow: hidden;
    font-size: var(--font-size-sm);
}

.tb-chat-header {
    padding: 0.75rem 1rem;
    border-bottom: 1px solid var(--theme-border);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.tb-chat-header h3 {
    margin: 0;
    font-size: var(--font-size-base);
    color: var(--theme-text);
}

.tb-chat-status {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.8rem;
    color: var(--theme-text-muted);
}

.tb-chat-status-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: var(--color-warning); /* Gelb für Verbindungsaufbau/getrennt */
    transition: background-color var(--transition-fast);
}

.tb-chat-status-dot.connected {
    background-color: var(--color-success);
}

.tb-chat-status-dot.error {
    background-color: var(--color-error);
}

.tb-chat-messages {
    flex-grow: 1;
    padding: 1rem;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.tb-chat-message {
    padding: 0.5rem 0.75rem;
    border-radius: var(--radius-md);
    max-width: 80%;
    word-wrap: break-word;
}

.tb-chat-message.user-message {
    background-color: var(--theme-primary);
    color: var(--theme-text-on-primary);
    align-self: flex-end; /* Eigene Nachrichten */
}

.tb-chat-message.other-message {
    background-color: var(--input-bg);
    border: 1px solid var(--theme-border);
    align-self: flex-start; /* Nachrichten von anderen */
}

.tb-chat-message.system-message {
    font-style: italic;
    color: var(--theme-text-muted);
    font-size: 0.8rem;
    text-align: center;
    align-self: center;
    background: none;
    padding: 0.2rem;
}

.tb-chat-message .msg-user {
    font-weight: var(--font-weight-semibold);
    display: block;
    margin-bottom: 0.25rem;
    font-size: 0.75rem;
}

.tb-chat-input-area {
    display: flex;
    padding: 0.75rem;
    border-top: 1px solid var(--theme-border);
    gap: 0.5rem;
}

.tb-chat-input {
    flex-grow: 1;
    padding: 0.6rem 0.75rem;
    border-radius: var(--radius-md);
    border: 1px solid var(--input-border);
    background-color: var(--input-bg);
    color: var(--theme-text);
    font-size: var(--font-size-sm);
}

.tb-chat-input:focus {
    outline: none;
    border-color: var(--input-focus-border);
}

/**
 * Desktop/Mobile Platform Styles
 * ===============================
 */

/* Platform-specific body spacing */
body.platform-desktop {
    padding-bottom: 28px;
}

body.platform-mobile {
    padding-bottom: 64px;
    padding-bottom: calc(64px + env(safe-area-inset-bottom));
}

body.platform-mobile .header {
    padding-top: env(safe-area-inset-top);
}

/* ===== Quick Capture Popup ===== */
.tb-quick-capture {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.9);
    width: 400px;
    max-width: 90vw;
    background: var(--tb-bg-secondary, #1e1e1e);
    border: 1px solid var(--tb-border, #333);
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    z-index: 10000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.2s ease;
}

.tb-quick-capture.visible {
    opacity: 1;
    visibility: visible;
    transform: translate(-50%, -50%) scale(1);
}

.tb-quick-capture-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    border-bottom: 1px solid var(--tb-border, #333);
    font-weight: 600;
}

.tb-quick-capture-close {
    background: none;
    border: none;
    color: var(--tb-text-secondary, #888);
    font-size: 20px;
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 4px;
}

.tb-quick-capture-close:hover {
    background: var(--tb-bg-hover, #333);
    color: var(--tb-text, #fff);
}

.tb-quick-capture-body {
    padding: 16px;
}

.tb-quick-capture-body textarea {
    width: 100%;
    background: var(--tb-bg, #121212);
    border: 1px solid var(--tb-border, #333);
    border-radius: 8px;
    color: var(--tb-text, #fff);
    padding: 12px;
    font-size: 14px;
    resize: none;
    font-family: inherit;
}

.tb-quick-capture-body textarea:focus {
    outline: none;
    border-color: var(--tb-primary, #6366f1);
}

.tb-quick-capture-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 12px;
}

.tb-quick-capture-hint {
    font-size: 12px;
    color: var(--tb-text-secondary, #888);
}

.tb-quick-capture-save {
    background: var(--tb-primary, #6366f1);
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 500;
}

.tb-quick-capture-save:hover {
    background: var(--tb-primary-hover, #5558e3);
}

/* ===== Desktop Status Bar ===== */
.tb-status-bar {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 24px;
    background: var(--tb-bg-secondary, #1e1e1e);
    border-top: 1px solid var(--tb-border, #333);
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 12px;
    font-size: 12px;
    color: var(--tb-text-secondary, #888);
    z-index: 9999;
}

.tb-status-bar-left,
.tb-status-bar-right {
    display: flex;
    align-items: center;
    gap: 16px;
}

.tb-status-item {
    display: flex;
    align-items: center;
    gap: 6px;
}

.tb-status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--tb-text-secondary, #888);
}

.tb-status-dot.online {
    background: #22c55e;
}

.tb-status-dot.offline {
    background: #ef4444;
}

.tb-status-dot.warning {
    background: #f59e0b;
}

.tb-status-dot.disabled {
    background: #6b7280;
    opacity: 0.5;
}

.tb-status-info {
    font-size: 11px;
    color: var(--tb-text-secondary, #666);
    opacity: 0.8;
}

.tb-status-item {
    cursor: default;
    transition: opacity 0.2s;
}

.tb-status-item:hover {
    opacity: 0.8;
}

/* ===== Mobile Bottom Navigation ===== */
.tb-bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 60px;
    padding-bottom: env(safe-area-inset-bottom);
    background: var(--tb-bg-secondary, #1e1e1e);
    border-top: 1px solid var(--tb-border, #333);
    display: flex;
    justify-content: space-around;
    align-items: center;
    z-index: 9999;
}

.tb-bottom-nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4px;
    background: none;
    border: none;
    color: var(--tb-text-secondary, #888);
    padding: 8px 16px;
    cursor: pointer;
    transition: color 0.2s;
    -webkit-tap-highlight-color: transparent;
}

.tb-bottom-nav-item.active {
    color: var(--tb-primary, #6366f1);
}

.tb-bottom-nav-icon {
    font-size: 20px;
}

.tb-bottom-nav-label {
    font-size: 10px;
    font-weight: 500;
}

/* ===== Light Theme Overrides ===== */
@media (prefers-color-scheme: light) {
    .tb-quick-capture {
        background: #fff;
        border-color: #e5e5e5;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
    }

    .tb-quick-capture-body textarea {
        background: #f5f5f5;
        border-color: #e5e5e5;
        color: #1a1a1a;
    }

    .tb-status-bar {
        background: #f5f5f5;
        border-color: #e5e5e5;
        color: #666;
    }

    .tb-bottom-nav {
        background: #fff;
        border-color: #e5e5e5;
    }
}

/* Theme class overrides */
[data-theme="light"] .tb-quick-capture,
.light .tb-quick-capture {
    background: #fff;
    border-color: #e5e5e5;
}

[data-theme="light"] .tb-status-bar,
.light .tb-status-bar {
    background: #f5f5f5;
    border-color: #e5e5e5;
}

[data-theme="light"] .tb-bottom-nav,
.light .tb-bottom-nav {
    background: #fff;
    border-color: #e5e5e5;
}


